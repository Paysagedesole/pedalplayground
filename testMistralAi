from mistralai.client import MistralClient
from mistralai.models.chat_completion import ChatMessage
import os

api_key = os.environ["MISTRAL_API_KEY"]
model = "mistral-tiny"

client = MistralClient(api_key=api_key)
types = "delay,distortion,overdrive,envelope filter,sequencer,compressor,fuzz,chorus,flanger,phaser,multi-effect,unknown"
pedalToCheck="Keeley Parallax"
chat_response = client.chat(
        model=model,
        temperature=0.1,
        messages=[ChatMessage(role="user", content=f"""Tell me what type of pedal is the {pedalToCheck}? You can choose between these type of effects : {types}. 
                              It is very important that your answer is only one word long. You do not have the right to answer me with more than one word.
                              WRITE ONLY ONE WORD!!!!!!
                              You can select "unknown" if you do not have a better answer.""")],
    )


print(chat_response.choices[0].message.content)

chat_response = client.chat(
        model=model,
        temperature=0.01,
        top_p=0.1,
        max_tokens=3,
        messages=[ChatMessage(role="user", content=f"""Tell me what is the price of the pedal {pedalToCheck}?
                              It is very important that your answer is in dollar. You do not have the right to answer with anything else than a number.
                              It does not matter if your price is not exact, the most important is that your answer must only be a price with numbers inside it.
                              WRITE ONLY A NUMBER!!!!!!.
                              DO NOT ANSWER WITH A SENTANCE!!!!!!! """)],
    )


print(chat_response.choices[0].message.content)
